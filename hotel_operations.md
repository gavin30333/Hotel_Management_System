# 酒店管理列表操作栏功能文档 (优化版)

本文档基于系统角色权限及业务生命周期，重新设计了酒店管理列表页的操作栏功能。旨在解决原有逻辑混乱问题，确保管理员拥有全生命周期管理权限，同时规范商家的操作边界。

## 1. 设计原则与状态说明

### 1.1 核心原则
- **管理员 (Administrator)**：拥有超级权限，可介入酒店生命周期的任一环节，包括代客提交、强制下线、直接审核等。
- **商家 (Merchant)**：仅拥有与其业务相关的操作权限，且在特定状态（如审核中）下操作受限，以保证数据流转的严谨性。

### 1.2 酒店状态定义
| 状态 | 说明 | 备注 |
| :--- | :--- | :--- |
| **草稿 (Draft)** | 初始创建或撤回后的状态 | 仅创建者可见或管理员可见 |
| **待审核 (Pending)** | 已提交申请，等待管理员审核 | 此时数据应锁定，防止审核期间变更 |
| **已上线 (Online)** | 审核通过，C端用户可见 | 正常运营状态 |
| **已下线 (Offline)** | 暂时停止运营 | 数据保留，可恢复（非物理删除） |
| **审核驳回 (Rejected)** | 审核未通过 | 需修改后重新提交 |

---

## 2. 管理员操作权限 (Administrator)

管理员作为系统监管者，具备**全功能操作**权限。

| 酒店状态 | 核心操作 | 辅助操作 | 操作逻辑说明 |
| :--- | :--- | :--- | :--- |
| **草稿 (Draft)** | **编辑**、**提交审核** | **删除**、**详情** | 管理员可协助商家完善信息并代为提交审核。 |
| **待审核 (Pending)** | **通过**、**驳回** | **编辑**、**删除**、**详情** | **核心职能**。审核期间若发现小问题，管理员可直接“编辑”修正后“通过”，或直接“驳回”要求整改。 |
| **已上线 (Online)** | **下线** | **编辑**、**删除**、**详情** | 管理员可强制下线违规酒店；也可在运营期间修正关键信息。 |
| **已下线 (Offline)** | **重新上线** | **编辑**、**删除**、**详情** | 下线为“软删除”，管理员可直接恢复上线（无需再次审核），或编辑后恢复。 |
| **审核驳回 (Rejected)** | **编辑**、**提交审核** | **删除**、**详情** | 管理员可协助修改驳回原因，并重新发起审核流程。 |

> **注意**：管理员的“删除”操作为物理删除（高风险操作），需二次确认。

---

## 3. 商家操作权限 (Merchant)

商家权限聚焦于自身业务管理，遵循“提交 -> 等待 -> 运营 -> 维护”的闭环。

| 酒店状态 | 核心操作 | 辅助操作 | 操作逻辑说明 |
| :--- | :--- | :--- | :--- |
| **草稿 (Draft)** | **编辑**、**提交审核** | **删除**、**详情** | 商家录入信息，确认无误后发起审核申请。 |
| **待审核 (Pending)** | **详情** | - | **权限锁定**。为保证审核快照与提交内容一致，审核期间商家**不可编辑**或**删除**。 |
| **已上线 (Online)** | **下线** | **详情** | 商家可自主下线（如装修停业）。**不可直接编辑**上线数据，需先下线或通过“变更申请”（此处简化为需先下线）。 |
| **已下线 (Offline)** | **编辑**、**重新上线** | **删除**、**详情** | 商家可维护下线酒店信息。若未修改关键信息，可直接“重新上线”；若修改，系统应自动转为“待审核”（视业务规则而定，本文档按**重新上线**需触发审核或直接恢复逻辑设计）。 |
| **审核驳回 (Rejected)** | **编辑** | **删除**、**详情** | 必须通过“编辑”修改问题项，修改保存后状态自动转为“草稿”，重新发起“提交审核”。 |

---

## 4. 按钮交互规范

为避免操作栏拥挤，建议采用以下显示策略：

1.  **优先级排序**：核心操作按钮（如“通过”、“提交审核”）使用**主色调**（Primary Color）或**高亮显示**，置于最左侧。
2.  **危险操作折叠**：“删除”按钮建议使用**红色**（Danger Color），或在“更多”菜单中展示，防止误触。
3.  **状态反馈**：
    - 点击“下线”时，应弹出确认框提示“下线后C端不可见，但数据保留”。
    - 点击“删除”时，应弹出高危警示“此操作不可恢复”。
    - 点击“驳回”时，**必须**弹出输入框填写驳回原因。

## 5. 评分标准对应点
- **用户登录/注册**：系统已实现角色自动判断（登录页）及角色选择（注册页）。
- **酒店信息录入/编辑**：对应“草稿”、“已下线”、“审核驳回”状态下的【编辑】功能。
- **酒店信息审核**：对应管理员在“待审核”状态下的【通过】/【驳回】功能。
- **上下线管理**：对应“已上线”的【下线】及“已下线”的【重新上线】功能，符合“下线不是删除”的标准。
